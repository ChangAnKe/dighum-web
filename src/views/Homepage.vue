<template>
  <el-container class="home-container">
    <el-header>
      <div class="toolbar">
        <el-dropdown>
          <el-icon style="margin-right: 8px; margin-top: 1px;" color="#9bb7f3" size="25">
            <setting />
          </el-icon>
          <template #dropdown>
            <el-dropdown-menu>
              <el-dropdown-item @click="changePwd">修改密码</el-dropdown-item>
              <el-dropdown-item @mouseenter="startUpdateBalance" @mouseleave="cancelUpdateBalance">积分:&nbsp;&nbsp;
                <el-text class="mx-1" type="primary" style="font-weight: bolder;">{{ userInfo.balance }}</el-text>
              </el-dropdown-item>
              <el-dropdown-item @click="logout">退出登录</el-dropdown-item>
            </el-dropdown-menu>
          </template>
        </el-dropdown>
        <span>{{ userInfo.userName }}</span>
      </div>
    </el-header>
    <el-container>
      <el-aside width="200px">
        <el-scrollbar>
          <el-menu router :default-openeds="['1']">
            <el-sub-menu index="1">
              <template #title>
                <el-icon>
                  <icon-menu />
                </el-icon>资源管理
              </template>
              <el-menu-item index="/createVideo" v-if="store.hasRole('ROOT') || !store.hasRole('MENU_RESOURCE_CREATE_DIGHUM_PRO')"><el-icon><svg t="1725264786831" class="icon" viewBox="0 0 1024 1024"
                    version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5114" width="200" height="200">
                    <path d="M513 511.5m-344.4 0a344.4 344.4 0 1 0 688.8 0 344.4 344.4 0 1 0-688.8 0Z" fill="#D6B0F7"
                      p-id="5115"></path>
                    <path
                      d="M513 864.5c-94.3 0-182.9-36.7-249.6-103.4C196.7 694.5 160 605.8 160 511.5s36.7-182.9 103.4-249.6S418.7 158.5 513 158.5s182.9 36.7 249.6 103.4C829.3 328.6 866 417.2 866 511.5s-36.7 182.9-103.4 249.6C695.9 827.8 607.3 864.5 513 864.5z m0-688.8c-89.7 0-174 34.9-237.4 98.4-63.4 63.4-98.4 147.7-98.4 237.4 0 89.7 34.9 174 98.4 237.4 63.4 63.4 147.7 98.4 237.4 98.4 89.7 0 174-34.9 237.4-98.4s98.4-147.7 98.4-237.4c0-89.7-34.9-174-98.4-237.4-63.4-63.4-147.7-98.4-237.4-98.4z"
                      fill="#050405" p-id="5116"></path>
                    <path
                      d="M533.2 811c-4.5 0-8.3-3.5-8.6-8-0.3-4.7 3.3-8.8 8-9.2 15.4-1.1 30.9-3.4 45.9-6.9 4.6-1.1 9.3 1.8 10.4 6.4 1.1 4.6-1.8 9.3-6.4 10.4-15.9 3.8-32.3 6.2-48.7 7.4-0.2-0.1-0.4-0.1-0.6-0.1zM653.3 775.8c-3 0-6-1.6-7.5-4.5-2.3-4.2-0.8-9.4 3.4-11.7 51.7-28.4 92.7-71.5 118.5-124.5 2.1-4.3 7.2-6.1 11.5-4 4.3 2.1 6.1 7.2 4 11.5-27.4 56.2-70.8 101.9-125.6 132-1.5 0.9-2.9 1.2-4.3 1.2z"
                      fill="#050405" p-id="5117"></path>
                    <path
                      d="M456 510.1v132.4c0 11 8.9 20 20 20h70.7c11 0 20-8.9 20-20V510.1H623L529.2 370c-8.4-12.8-27.2-12.8-35.6 0l-93.8 140.1H456z"
                      fill="#D6B0F7" p-id="5118"></path>
                    <path
                      d="M546.7 670.5H476c-15.4 0-28-12.5-28-28V518.1h-48.3c-3 0-5.7-1.6-7.1-4.2-1.4-2.6-1.2-5.8 0.4-8.2l93.8-140.1c5.4-8.2 14.6-13.1 24.4-13.1 9.9 0 19 4.9 24.5 13.2l93.8 140c1.6 2.5 1.8 5.6 0.4 8.2s-4.1 4.2-7.1 4.2h-48.3v124.4c0.1 15.5-12.4 28-27.8 28z m-132-168.4H456c4.4 0 8 3.6 8 8v132.4c0 6.6 5.4 12 12 12h70.7c6.6 0 12-5.4 12-12V510.1c0-4.4 3.6-8 8-8H608l-85.5-127.6c-2.5-3.8-6.6-6-11.2-6s-8.6 2.2-11.1 6l-85.5 127.6z"
                      fill="#050405" p-id="5119"></path>
                  </svg></el-icon><span v-if="store.applyToIndustry('ME') || isEmpty(store.getUserInfo.industry)">创建视频</span><span v-if="store.getUserInfo.industry == 'ED'">创建声音</span></el-menu-item>
                  <el-menu-item index="/createVideoPro" v-if="store.hasRole('MENU_RESOURCE_CREATE_DIGHUM_PRO')"><el-icon><svg t="1747725225852" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1504" width="200" height="200"><path d="M957.952 270.08v495.36c0 112.384-91.136 203.52-203.52 203.52h-495.36c-112.384 0-203.52-91.136-203.52-203.52V270.08c0-112.64 91.136-203.52 203.52-203.52h495.36c112.256 0 203.52 90.88 203.52 203.52z" fill="#53DEDC" p-id="1505"></path><path d="M957.952 270.08v52.608h-902.4V270.08c0-19.84 2.816-39.04 7.808-57.216 2.048-6.272 4.224-12.288 6.528-18.432 1.024-2.816 2.304-5.248 3.584-8.064 14.08-31.488 35.968-58.624 63.488-79.104 24.192-18.432 52.864-31.232 84.096-36.992 8.832-1.792 17.92-3.072 27.136-3.328 3.584-0.512 7.04-0.512 10.88-0.512h495.36c45.312 0 87.168 14.848 120.832 39.808 16.384 12.032 30.72 26.496 42.624 42.624 9.6 13.056 17.92 27.136 24.192 42.624 0.512 1.024 0.768 2.048 1.28 3.072 0.512 1.024 1.024 2.304 1.28 3.328 1.536 3.84 2.816 7.296 3.84 11.392 6.144 18.944 9.472 39.68 9.472 60.8z" fill="#FFFFFF" p-id="1506"></path><path d="M136.832 107.392c-27.392 20.352-49.408 47.616-63.488 79.104l-10.112 26.496c-4.992 18.176-7.808 37.248-7.808 57.216v52.608h40.832l128-128-87.424-87.424zM390.016 66.56H258.944c-3.84 0-7.296 0-10.88 0.512l127.488 127.488-128.128 128.128h142.336L517.888 194.56 390.016 66.56zM683.904 66.56H541.568l128 128-128.512 128.128h142.592L811.776 194.56zM948.352 209.152l-113.536 113.536h123.136V270.08c0-21.12-3.328-41.856-9.6-60.928z" fill="#282828" p-id="1507"></path><path d="M944.512 197.76H163.84v-6.272h778.24c0.512 1.024 0.768 2.048 1.28 3.072 0.384 0.896 0.896 2.176 1.152 3.2zM55.552 321.024h902.4v4.608h-902.4z" fill="#282828" p-id="1508"></path></svg></el-icon><span v-if="store.applyToIndustry('ME') || isEmpty(store.getUserInfo.industry)">创建视频Pro</span><span v-if="store.getUserInfo.industry == 'ED'">创建声音Pro</span></el-menu-item>
              <el-menu-item index="/myResources"><el-icon><svg t="1725264859595" class="icon" viewBox="0 0 1024 1024"
                    version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6318" width="200" height="200">
                    <path
                      d="M946.4 332.1L755.1 523.4c-17.6 17.6-46.1 17.6-63.7 0L500.2 332.1c-17.6-17.6-17.6-46.1 0-63.7L691.4 77.2c17.6-17.6 46.1-17.6 63.7 0l191.2 191.2c17.7 17.6 17.7 46.1 0.1 63.7zM723.6 111.9L534.9 300.6l188.7 188.7 188.7-188.7-188.7-188.7zM387.9 959.7H114.3c-27.5 0-49.7-22.3-49.7-49.7V636.4c0-27.5 22.3-49.7 49.7-49.7h273.6c27.5 0 49.7 22.3 49.7 49.7V910c0 27.4-22.3 49.7-49.7 49.7z m0-323.3H114.3V910h273.6V636.4z m0-124.4H114.3c-27.5 0-49.7-22.3-49.7-49.7V188.7c0-27.5 22.3-49.7 49.7-49.7h273.6c27.5 0 49.7 22.3 49.7 49.7v273.6c0 27.5-22.3 49.7-49.7 49.7z m0-323.3H114.3v273.6h273.6V188.7zM562 586.6h273.6c27.5 0 49.7 22.3 49.7 49.7V910c0 27.5-22.3 49.7-49.7 49.7H562c-27.5 0-49.7-22.3-49.7-49.7V636.4c-0.1-27.5 22.2-49.8 49.7-49.8z m0 323.4h273.6V636.4H562V910z"
                      fill="#1296db" p-id="6319"></path>
                  </svg></el-icon><span>作品管理</span></el-menu-item>
              <el-menu-item index="/voiceClone"><el-icon><svg t="1725261497718" class="icon" viewBox="0 0 1024 1024"
                    version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32031" width="200" height="200">
                    <path
                      d="M607.104 160.512a12.48 12.48 0 0 0-15.04 8.64l-1.344 4.48a12.8 12.8 0 0 1-22.656 3.84l-40.64-55.808a12.8 12.8 0 0 1 5.248-19.264l63.68-28.032a12.8 12.8 0 0 1 17.6 14.72l-1.28 5.12a13.12 13.12 0 0 0 9.536 15.68A416.384 416.384 0 0 1 928 463.552a12.48 12.48 0 0 1-12.544 13.824h-27.392a13.12 13.12 0 0 1-12.928-11.52 364.16 364.16 0 0 0-268.096-305.28z m-64.576 546.432a12.8 12.8 0 0 1-12.8 12.8h-33.408a12.8 12.8 0 0 1-12.8-12.8V325.248c0-7.04 5.76-12.8 12.8-12.8h33.408c7.04 0 12.8 5.76 12.8 12.8v381.696zM160.704 420.416a12.48 12.48 0 0 0 9.152 15.232l1.92 0.448a12.8 12.8 0 0 1 4.48 22.784l-54.592 39.68a12.8 12.8 0 0 1-19.264-5.12l-28.032-63.744a12.8 12.8 0 0 1 14.72-17.6l5.248 1.28a13.12 13.12 0 0 0 15.616-9.472 418.816 418.816 0 0 1 353.536-305.92 12.48 12.48 0 0 1 13.888 12.608v29.376a13.12 13.12 0 0 1-11.52 12.928 364.16 364.16 0 0 0-305.152 267.52z m90.624 63.68c0-7.04 5.76-12.8 12.8-12.8h33.472c7.04 0 12.8 5.76 12.8 12.8v61.952a12.8 12.8 0 0 1-12.8 12.8h-33.472a12.8 12.8 0 0 1-12.8-12.8v-61.952zM413.696 400c7.04 0 12.8 5.76 12.8 12.8v206.528a12.8 12.8 0 0 1-12.8 12.8H380.16a12.8 12.8 0 0 1-12.8-12.8V412.8c0-7.04 5.76-12.8 12.8-12.8h33.472z m5.12 465.472a12.48 12.48 0 0 0 15.04-8.768l1.664-5.824a12.8 12.8 0 0 1 22.656-4.032l40.384 55.488a12.8 12.8 0 0 1-5.12 19.264l-63.36 27.904a12.8 12.8 0 0 1-17.6-14.848l0.64-2.816a13.12 13.12 0 0 0-9.408-15.744A416.32 416.32 0 0 1 97.92 562.56a12.48 12.48 0 0 1 12.544-13.824h27.392c6.592 0 12.096 4.992 12.928 11.52a364.096 364.096 0 0 0 267.904 305.28zM645.76 400c7.04 0 12.8 5.76 12.8 12.8v206.528a12.8 12.8 0 0 1-12.8 12.8h-33.472a12.8 12.8 0 0 1-12.8-12.8V412.8c0-7.04 5.76-12.8 12.8-12.8h33.472z m69.76 84.096c0-7.04 5.76-12.8 12.8-12.8h33.536c7.04 0 12.8 5.76 12.8 12.8v61.952a12.8 12.8 0 0 1-12.8 12.8h-33.472a12.8 12.8 0 0 1-12.8-12.8v-61.952zM863.36 603.52a12.48 12.48 0 0 0-9.152-15.232l-1.92-0.448a12.8 12.8 0 0 1-4.48-22.784l54.592-39.68a12.8 12.8 0 0 1 19.2 5.12l27.968 63.424a12.8 12.8 0 0 1-14.848 17.6l-2.752-0.704a13.12 13.12 0 0 0-15.808 9.472 412.224 412.224 0 0 1-355.84 303.872 12.48 12.48 0 0 1-13.632-12.544v-27.648c0-6.592 4.992-12.032 11.52-12.928a364.16 364.16 0 0 0 305.152-267.52z"
                      p-id="32032" fill="#626ca8"></path>
                    <path
                      d="M601.216 171.904l-1.28 4.48a22.4 22.4 0 0 1-39.616 6.784l-40.64-55.872a22.4 22.4 0 0 1 9.088-33.664l63.744-28.032a22.4 22.4 0 0 1 30.784 25.664l-1.28 5.248a3.52 3.52 0 0 0 2.688 4.096 425.984 425.984 0 0 1 312.896 361.792 22.08 22.08 0 0 1-22.08 24.576h-27.392a22.72 22.72 0 0 1-22.4-19.904 354.432 354.432 0 0 0-261.056-297.28 2.88 2.88 0 0 0-3.456 2.112z m-71.488 557.44h-33.408a22.4 22.4 0 0 1-22.4-22.4V325.248a22.4 22.4 0 0 1 22.4-22.4h33.408a22.4 22.4 0 0 1 22.4 22.4v381.696a22.4 22.4 0 0 1-22.4 22.4zM172.16 426.24l1.984 0.512a22.4 22.4 0 0 1 7.68 39.808l-54.528 39.68a22.4 22.4 0 0 1-33.664-9.024l-28.032-63.744a22.4 22.4 0 0 1 25.664-30.784l5.312 1.28a3.52 3.52 0 0 0 4.096-2.624 428.416 428.416 0 0 1 361.6-312.896c13.44-1.6 24.704 8.96 24.704 22.08v29.376a22.72 22.72 0 0 1-19.84 22.4 354.56 354.56 0 0 0-297.152 260.48 2.88 2.88 0 0 0 2.176 3.456z m91.968 35.392h33.472a22.4 22.4 0 0 1 22.4 22.4v61.952a22.4 22.4 0 0 1-22.4 22.4h-33.472a22.4 22.4 0 0 1-22.4-22.4v-61.952a22.4 22.4 0 0 1 22.4-22.4z m171.968-48.896v206.528a22.4 22.4 0 0 1-22.4 22.4H380.16a22.4 22.4 0 0 1-22.4-22.4V412.8a22.4 22.4 0 0 1 22.4-22.4h33.472a22.4 22.4 0 0 1 22.4 22.4z m-11.456 441.216l1.664-5.76a22.4 22.4 0 0 1 39.68-7.04l40.32 55.488a22.4 22.4 0 0 1-9.024 33.664l-63.36 27.904a22.4 22.4 0 0 1-30.72-25.92l0.64-2.816a3.52 3.52 0 0 0-2.56-4.16 425.984 425.984 0 0 1-312.832-361.728 22.08 22.08 0 0 1 22.08-24.576h27.392c11.584 0 20.992 8.768 22.4 19.84a354.56 354.56 0 0 0 260.928 297.28 2.88 2.88 0 0 0 3.392-2.176z m243.584-441.216v206.528a22.4 22.4 0 0 1-22.4 22.4h-33.472a22.4 22.4 0 0 1-22.4-22.4V412.8a22.4 22.4 0 0 1 22.4-22.4h33.472a22.4 22.4 0 0 1 22.4 22.4z m60.16 48.896h33.536a22.4 22.4 0 0 1 22.4 22.4v61.952a22.4 22.4 0 0 1-22.4 22.4h-33.472a22.4 22.4 0 0 1-22.4-22.4v-61.952a22.4 22.4 0 0 1 22.4-22.4z m123.456 136l-1.92-0.512a22.4 22.4 0 0 1-7.808-39.808l54.592-39.68a22.4 22.4 0 0 1 33.664 9.024l27.904 63.36a22.4 22.4 0 0 1-25.92 30.784l-2.816-0.64a3.52 3.52 0 0 0-4.16 2.56A421.888 421.888 0 0 1 561.28 933.76a22.08 22.08 0 0 1-24.32-22.08v-27.648c0-11.52 8.832-20.992 19.968-22.4a354.496 354.496 0 0 0 297.088-260.48 2.88 2.88 0 0 0-2.176-3.456zM592 169.152c1.984-6.4 8.64-10.304 15.104-8.64a364.16 364.16 0 0 1 268.16 305.28c0.768 6.592 6.272 11.584 12.864 11.584h27.392c7.488 0 13.44-6.4 12.544-13.824a416.384 416.384 0 0 0-305.856-353.664 13.12 13.12 0 0 1-9.472-15.616l1.28-5.248a12.8 12.8 0 0 0-17.664-14.656l-63.68 28.032a12.8 12.8 0 0 0-5.248 19.2l40.64 55.936a12.8 12.8 0 0 0 22.656-3.84l1.28-4.544z m-62.272 550.592a12.8 12.8 0 0 0 12.8-12.8V325.248a12.8 12.8 0 0 0-12.8-12.8h-33.408a12.8 12.8 0 0 0-12.8 12.8v381.696c0 7.04 5.76 12.8 12.8 12.8h33.408z m-359.872-284.16a12.48 12.48 0 0 1-9.152-15.168 364.16 364.16 0 0 1 305.152-267.52 13.12 13.12 0 0 0 11.52-12.928v-29.44c0-7.488-6.4-13.44-13.888-12.48A418.816 418.816 0 0 0 109.952 403.84a13.12 13.12 0 0 1-15.616 9.408l-5.312-1.28a12.8 12.8 0 0 0-14.656 17.664l28.032 63.68a12.8 12.8 0 0 0 19.2 5.184l54.656-39.68a12.8 12.8 0 0 0-4.48-22.784l-1.92-0.448z m94.272 35.712a12.8 12.8 0 0 0-12.8 12.8v61.952c0 7.04 5.76 12.8 12.8 12.8h33.472a12.8 12.8 0 0 0 12.8-12.8v-61.952a12.8 12.8 0 0 0-12.8-12.8h-33.472z m162.368-58.496a12.8 12.8 0 0 0-12.8-12.8H380.16a12.8 12.8 0 0 0-12.8 12.8v206.528c0 7.04 5.76 12.8 12.8 12.8h33.472a12.8 12.8 0 0 0 12.8-12.8V412.8z m7.36 443.904a12.48 12.48 0 0 1-15.104 8.768 364.16 364.16 0 0 1-267.904-305.28 13.12 13.12 0 0 0-12.928-11.52h-27.392c-7.488 0-13.44 6.4-12.544 13.824a416.384 416.384 0 0 0 305.728 353.6 13.12 13.12 0 0 1 9.472 15.744l-0.704 2.816a12.8 12.8 0 0 0 17.536 14.848l63.36-27.904a12.8 12.8 0 0 0 5.184-19.2l-40.32-55.552a12.8 12.8 0 0 0-22.72 4.032l-1.664 5.76z m224.768-443.904a12.8 12.8 0 0 0-12.8-12.8h-33.472a12.8 12.8 0 0 0-12.8 12.8v206.528c0 7.04 5.76 12.8 12.8 12.8h33.472a12.8 12.8 0 0 0 12.8-12.8V412.8z m69.76 58.496a12.8 12.8 0 0 0-12.8 12.8l0.064 61.952c0 7.04 5.76 12.8 12.8 12.8h33.472a12.8 12.8 0 0 0 12.8-12.8v-61.952a12.8 12.8 0 0 0-12.8-12.8h-33.472z m125.76 117.12a12.48 12.48 0 0 1 9.152 15.168 364.16 364.16 0 0 1-305.152 267.52 13.12 13.12 0 0 0-11.52 12.928v27.648c0 7.424 6.272 13.312 13.632 12.544a412.288 412.288 0 0 0 355.84-303.872 13.12 13.12 0 0 1 15.808-9.472l2.752 0.64a12.8 12.8 0 0 0 14.848-17.536l-27.904-63.36a12.8 12.8 0 0 0-19.2-5.184l-54.656 39.68a12.8 12.8 0 0 0 4.48 22.784l1.92 0.448z"
                      p-id="32033" fill="#626ca8"></path>
                  </svg></el-icon><span>声音克隆</span></el-menu-item>
              <el-menu-item index="/createDigitalPersonPro" v-if="store.applyToIndustry('ED')"><el-icon>
                  <svg t="1736925286305" class="icon" viewBox="0 0 1024 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="10354" width="200" height="200">
                    <path
                      d="M541.3888 301.312c-435.0464 0-435.0464 207.7696-435.0464 207.7696H971.264s-6.5024-207.7696-429.8752-207.7696z"
                      fill="#53ECF4" p-id="10355"></path>
                    <path
                      d="M534.8864 278.5792c79.7184 0 144.0768 7.4752 196.1984 19.5072v-42.2912c0-81.4592-88.9856-147.5072-198.7072-147.5072-109.7216 0-198.7072 66.048-198.7072 147.5072v42.3424c53.1968-12.0832 119.1936-19.5584 201.216-19.5584z"
                      fill="#FBC07C" p-id="10356"></path>
                    <path
                      d="M543.7952 647.7312c-348.2624 0-348.2624-138.7008-348.2624-138.7008h692.4288c0 0.0512-5.2224 138.7008-344.1664 138.7008z"
                      fill="#EDC951" p-id="10357"></path>
                    <path
                      d="M540.8256 659.7632c-77.824 0-137.3184-6.7072-182.784-16.9472 10.9056 25.4976 53.0944 98.5088 179.0976 98.5088 124.7232 0 167.3216-71.5776 178.7392-97.7408-44.1856 9.8304-101.2736 16.1792-175.0528 16.1792z"
                      fill="#53ECF4" p-id="10358"></path>
                    <path
                      d="M922.7264 383.9488c-42.5984-42.1888-101.5808-73.216-176.3328-92.9792v-36.7104c0-102.5536-104.0896-185.9584-232.0384-185.9584S282.368 151.7056 282.368 254.2592v36.7104c-76.1344 19.712-135.7824 50.7904-178.2272 92.9792C42.8544 444.8768 42.1376 506.4704 42.1376 509.0816c0 8.4992 6.8608 15.36 15.36 15.36h70.4c7.68 28.3648 39.3728 88.6272 169.5232 121.6 16.64 35.84 71.3216 120.5248 214.9376 120.5248 142.592 0 197.5808-83.8656 214.4768-119.5008 131.8912-32.8192 165.1712-94.3616 173.568-122.6752h70.8096c4.1472 0 8.1408-1.6896 11.008-4.6592 2.8672-2.9696 4.4544-7.0144 4.352-11.1616 0-2.56-2.56-63.8976-63.8464-124.6208zM313.088 254.2592c0-85.6064 90.3168-155.2384 201.3184-155.2384s201.3184 69.632 201.3184 155.2384v29.44c-50.2272-10.6496-106.8544-16.6912-169.6768-18.0736-1.2288-0.0512-2.4576-0.0512-3.6864-0.0512-8.2944-0.1536-16.6912-0.256-25.2416-0.256-8.8064 0-17.408 0.1024-26.0096 0.256-1.28 0-2.56 0.0512-3.7888 0.0512-64.7168 1.4336-122.8288 7.5264-174.2336 18.2272v-29.5936z m373.8112 401.408c-23.7056 35.3792-73.6768 80.2304-174.4896 80.2304-101.632 0-151.552-45.4144-175.104-81.0496 15.5136 2.816 31.9488 5.12 48.9984 7.1168 1.6384 0.2048 3.328 0.3584 5.0176 0.5632 3.6864 0.4096 7.424 0.8192 11.2128 1.1776 5.1712 0.512 10.3936 0.9728 15.7696 1.3824l7.936 0.6144c4.3008 0.3072 8.6528 0.6144 13.056 0.8704 2.304 0.1536 4.5568 0.3072 6.8608 0.4096a1161.02144 1161.02144 0 0 0 48.128 1.6384c7.3216 0.1024 14.7456 0.2048 22.3232 0.2048 7.2192 0 14.2848-0.0512 21.248-0.2048 1.9456-0.0512 3.84-0.0512 5.7344-0.1024 5.5296-0.1024 10.9568-0.256 16.3328-0.4608l4.7616-0.1536c6.7072-0.256 13.312-0.5632 19.7632-0.9216 1.3824-0.0512 2.7648-0.1536 4.1472-0.256 5.12-0.3072 10.1888-0.6656 15.1552-1.024l6.144-0.4608c5.2736-0.4096 10.496-0.8704 15.5648-1.3824 2.6624-0.256 5.2224-0.512 7.8336-0.8192 3.584-0.3584 7.1168-0.768 10.5984-1.1776 3.072-0.3584 6.0928-0.7168 9.1136-1.1264 2.048-0.256 3.9936-0.5632 5.9904-0.8192 6.912-0.9728 13.6704-1.9456 20.3264-3.072l0.8192-0.1536c2.2528-0.3072 4.5568-0.6656 6.7584-1.024z m143.2064-86.6304c-22.9888 17.6128-60.672 37.1712-121.7024 50.8928-4.1472 0.9216-8.3968 1.8432-12.6976 2.7136-2.6624 0.512-5.3248 1.0752-8.0384 1.5872-4.7616 0.8704-9.5744 1.7408-14.4896 2.56-2.4064 0.4096-4.864 0.768-7.2704 1.1264-5.4784 0.8192-11.008 1.6384-16.6912 2.3552-1.9456 0.256-3.9936 0.512-5.9904 0.7168-6.3488 0.768-12.7488 1.4848-19.3024 2.1504-1.2288 0.1024-2.5088 0.2048-3.7888 0.3584-6.7072 0.6144-13.568 1.2288-20.48 1.6896-0.8704 0.0512-1.6896 0.1536-2.56 0.2048-7.4752 0.512-15.1552 0.9216-22.8864 1.3312-1.4336 0.0512-2.8672 0.1536-4.3008 0.2048-7.68 0.3584-15.5136 0.6144-23.4496 0.768-1.4848 0.0512-3.0208 0.0512-4.5056 0.1024-8.2944 0.1536-16.6912 0.256-25.2928 0.256-4.7104 0-9.3696-0.0512-14.0288-0.0512-1.28 0-2.5088-0.0512-3.7888-0.0512l-10.1888-0.1536c-1.3312-0.0512-2.6112-0.0512-3.9424-0.1024-3.4304-0.1024-6.8096-0.1536-10.1376-0.256-1.0752-0.0512-2.1504-0.0512-3.2256-0.1024-3.8912-0.1536-7.7312-0.256-11.5712-0.4608-0.512 0-0.9728-0.0512-1.4848-0.0512-13.7216-0.6144-27.0336-1.4848-39.8848-2.56-0.1536 0-0.3072-0.0512-0.512-0.0512-4.1472-0.3584-8.2432-0.7168-12.288-1.1264-0.2048 0-0.3584-0.0512-0.5632-0.0512-8.3456-0.8192-16.5376-1.7408-24.5248-2.7648l-1.28-0.1536c-3.1744-0.4096-6.2976-0.8192-9.4208-1.28-1.1776-0.1536-2.4064-0.3584-3.584-0.512-2.304-0.3584-4.5568-0.6656-6.8096-1.024-1.4848-0.2048-2.9696-0.4608-4.4032-0.6656l-4.5568-0.768c-4.0448-0.6656-8.0384-1.3824-11.9296-2.0992-0.4096-0.0512-0.768-0.1536-1.1776-0.2048-128.7168-24.576-166.0416-73.984-176.8448-99.1232h707.2768c-5.12 11.4688-15.7696 27.8528-37.6832 44.5952z m57.856-75.3152H75.008c8.0896-37.2736 46.4384-132.6592 227.6864-175.8208 6.912-1.6384 13.9776-3.2256 21.1456-4.6592 0.512-0.1024 1.024-0.2048 1.5872-0.3072 31.8464-6.4 66.4064-10.9568 103.424-13.7216h0.3072c9.0624-0.6656 18.2784-1.2288 27.5968-1.6896 0.5632-0.0512 1.1264-0.0512 1.7408-0.1024 9.0624-0.4096 18.2272-0.768 27.5456-0.9728 0.8192 0 1.6896-0.0512 2.5088-0.0512 9.4208-0.2048 18.8928-0.3072 28.5696-0.3072 8.8576 0 17.6128 0.1024 26.2656 0.3072l6.8608 0.1536c7.3728 0.2048 14.6432 0.4608 21.8624 0.8192l3.9424 0.1536c7.9872 0.4096 15.872 0.9216 23.6544 1.4848l7.5264 0.6144c5.7344 0.4608 11.3664 0.9728 16.9472 1.536l9.0112 0.9216a824.39168 824.39168 0 0 1 28.5696 3.6352c2.56 0.3584 5.12 0.768 7.68 1.1776a836.73088 836.73088 0 0 1 25.7536 4.4032c107.5712 20.6848 169.216 58.9312 204.0832 92.7232 35.9936 34.9184 49.2032 70.0928 53.9648 89.7536h-65.28z"
                      fill="#333333" p-id="10359"></path>
                    <path
                      d="M286.6176 474.4192c-35.84 0-65.024-29.184-65.024-65.024s29.184-65.024 65.024-65.024 65.024 29.184 65.024 65.024-29.184 65.024-65.024 65.024z m0-99.328c-18.944 0-34.304 15.4112-34.304 34.304s15.4112 34.304 34.304 34.304 34.304-15.4112 34.304-34.304-15.4112-34.304-34.304-34.304zM517.12 474.4192c-35.84 0-65.024-29.184-65.024-65.024s29.184-65.024 65.024-65.024 65.024 29.184 65.024 65.024-29.184 65.024-65.024 65.024z m0-99.328c-18.944 0-34.304 15.4112-34.304 34.304s15.4112 34.304 34.304 34.304 34.304-15.4112 34.304-34.304-15.36-34.304-34.304-34.304zM743.2704 474.4192c-35.84 0-65.024-29.184-65.024-65.024s29.184-65.024 65.024-65.024 65.024 29.184 65.024 65.024-29.184 65.024-65.024 65.024z m0-99.328c-18.944 0-34.304 15.4112-34.304 34.304s15.4112 34.304 34.304 34.304 34.304-15.4112 34.304-34.304-15.4112-34.304-34.304-34.304z"
                      fill="#333333" p-id="10360"></path>
                    <path
                      d="M205.568 766.5664h52.2752v118.6816H205.568zM763.7504 766.5664h52.2752v118.6816h-52.2752zM358.0416 824.1664h52.2752v118.6816H358.0416zM616.3456 824.1664h52.2752v118.6816h-52.2752z"
                      fill="#FF927C" p-id="10361"></path>
                    <path
                      d="M257.8432 897.4336H205.568c-8.4992 0-15.36-6.8608-15.36-15.36v-152.2688c0-8.4992 6.8608-15.36 15.36-15.36h52.2752c8.4992 0 15.36 6.8608 15.36 15.36v152.2688c0 8.448-6.8608 15.36-15.36 15.36z m-36.9152-30.72h21.5552v-121.5488h-21.5552v121.5488zM816.0256 897.4336h-52.2752c-8.4992 0-15.36-6.8608-15.36-15.36v-152.2688c0-8.4992 6.8608-15.36 15.36-15.36h52.2752c8.4992 0 15.36 6.8608 15.36 15.36v152.2688c0 8.448-6.8608 15.36-15.36 15.36z m-36.9152-30.72h21.5552v-121.5488h-21.5552v121.5488zM410.3168 958.208H358.0416c-8.4992 0-15.36-6.8608-15.36-15.36V790.528c0-8.4992 6.8608-15.36 15.36-15.36h52.2752c8.4992 0 15.36 6.8608 15.36 15.36v152.32c0 8.4992-6.8608 15.36-15.36 15.36z m-36.9152-30.72h21.5552V805.888h-21.5552v121.6zM668.672 958.208h-52.2752c-8.4992 0-15.36-6.8608-15.36-15.36V790.528c0-8.4992 6.8608-15.36 15.36-15.36h52.2752c8.4992 0 15.36 6.8608 15.36 15.36v152.32c0 8.4992-6.912 15.36-15.36 15.36z m-36.9664-30.72h21.5552V805.888h-21.5552v121.6z"
                      fill="#333333" p-id="10362"></path>
                  </svg>
                </el-icon><span>数字人Pro</span></el-menu-item>
            </el-sub-menu>
            <el-sub-menu index="2" v-if="store.hasRole('MENU_USERS_MANAGEMENT')">
              <template #title>
                <el-icon>
                  <User />
                </el-icon>用户管理
              </template>
              <el-menu-item index="/subusers/reg" v-if="store.hasRole('MENU_USER_REGISTER')"><el-icon><svg
                    t="1727269046834" class="icon" viewBox="0 0 1024 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="1476" width="200" height="200">
                    <path
                      d="M789.779 984.843c-31.732 0-61.762-6.041-90.096-18.134-28.334-12.088-53.08-28.709-74.234-49.865-21.151-21.156-37.772-45.897-49.864-74.229-12.087-28.334-18.134-58.362-18.134-90.1 0-31.732 6.047-61.762 18.134-90.095 12.091-28.333 28.714-52.893 49.864-73.664 21.154-20.78 45.899-37.214 74.234-49.301 28.333-12.091 58.363-18.136 90.096-18.136 31.734 0 61.765 6.044 90.098 18.136 28.334 12.087 52.888 28.521 73.665 49.301 20.779 20.774 37.21 45.334 49.3 73.664 12.088 28.333 18.137 58.362 18.137 90.095 0 31.737-6.049 61.766-18.137 90.1s-28.521 53.073-49.3 74.229c-20.78 21.157-45.332 37.778-73.665 49.865C851.545 978.802 821.514 984.843 789.779 984.843L789.779 984.843zM904.244 715.118l-83.865 0 0-78.197c0-10.581-3.395-19.645-10.198-27.203-6.801-7.554-15.489-11.332-26.069-11.332-10.575 0-18.887 3.778-24.929 11.332-6.043 7.559-9.068 16.622-9.068 27.203l0 78.197-73.665 0c-10.575 0-19.641 3.773-27.197 11.334-7.556 7.553-11.333 16.623-11.333 27.197 0 10.575 3.777 18.512 11.333 23.803 7.557 5.288 16.622 7.928 27.197 7.928l73.665 0 0 80.466c0 10.581 3.025 19.645 9.068 27.2 6.042 7.559 14.354 11.332 24.929 11.332 10.58 0 19.267-3.774 26.069-11.332 6.802-7.556 10.198-16.619 10.198-27.2L820.379 785.38l83.865 0 0 2.27c10.579 0 19.644-3.021 27.198-9.063 7.56-6.048 11.333-14.36 11.333-24.936 0-10.574-3.774-19.645-11.333-27.197C923.889 718.892 914.823 715.118 904.244 715.118L904.244 715.118zM624.321 432.927c-3.023 12.086-6.049 23.042-9.07 32.865-3.021 8.311-6.801 16.811-11.332 25.498-4.534 8.688-9.442 15.301-14.731 19.833-6.801 5.289-11.522 10.957-14.167 17-2.645 6.042-4.915 12.271-6.802 18.697-1.887 6.423-3.966 13.03-6.229 19.832-2.271 6.802-6.049 13.602-11.332 20.399-17.383 22.664-30.416 44.578-39.104 65.732-8.688 21.155-14.731 41.554-18.133 61.201-3.398 19.643-4.345 39.102-2.836 58.362 1.513 19.269 4.533 37.969 9.069 56.1 3.022 13.597 7.555 27.764 13.597 42.499 6.048 14.73 14.925 29.844 26.632 45.333 11.711 15.488 26.634 30.595 44.77 45.332 18.13 14.731 40.794 28.896 67.998 42.499-18.135 3.774-39.291 7.177-63.467 10.199-20.402 2.271-45.521 4.343-75.362 6.229-29.845 1.896-64.036 2.836-102.566 2.836-19.646 0-42.499-0.753-68.564-2.265-26.068-1.512-52.885-3.401-80.465-5.666-27.574-2.269-54.779-4.913-81.599-7.935-26.816-3.022-51.376-6.232-73.665-9.634-22.286-3.397-41.178-6.989-56.666-10.767-15.484-3.776-25.119-7.177-28.898-10.197-6.8-6.049-12.085-22.86-15.864-50.436-3.779-27.57-2.645-63.652 3.398-108.229 3.778-24.933 13.789-44.009 30.032-57.235 16.245-13.22 35.321-23.605 57.235-31.165 21.907-7.555 44.764-14.544 68.563-20.968 23.799-6.419 44.768-15.295 62.902-26.627 14.355-9.067 25.311-17.57 32.864-25.501 7.553-7.935 12.843-16.055 15.864-24.368 3.022-8.306 4.534-17 4.534-26.064 0-9.065-0.377-18.888-1.133-29.469-1.514-15.865-6.984-28.333-16.432-37.396-9.445-9.069-19.456-18.136-30.032-27.199-6.049-4.537-11.333-11.331-15.87-20.401-4.533-9.063-8.307-17.753-11.333-26.063-3.774-9.824-6.797-20.779-9.065-32.865-5.29-1.511-10.198-3.778-14.73-6.801-3.779-3.021-7.936-7.559-12.469-13.603-4.532-6.042-8.688-15.107-12.468-27.199-3.779-11.333-5.101-21.908-3.966-31.729 1.132-9.824 3.214-18.134 6.236-24.936 3.022-8.311 7.177-15.49 12.463-21.531 0-25.688 1.516-51.376 4.539-77.069 3.022-21.907 7.741-45.333 14.167-70.26 6.419-24.936 16.811-47.225 31.166-66.864 13.597-18.892 28.144-34.382 43.628-46.466 15.489-12.091 31.546-21.532 48.166-28.333 16.621-6.802 33.244-11.521 49.867-14.167C380.28 1.323 396.149 0 411.26 0c19.643 0 38.529 2.27 56.664 6.802 18.133 4.531 34.943 10.575 50.433 18.134 15.492 7.553 29.279 16.054 41.365 25.499 12.091 9.441 21.913 19.074 29.468 28.896 17.376 21.909 30.031 46.09 37.969 72.53 7.93 26.446 13.783 51.376 17.563 74.799 3.779 27.199 5.291 54.396 4.534 81.602 4.533 3.774 8.312 8.306 11.332 13.596 3.02 4.532 5.29 10.581 6.801 18.134 1.513 7.553 1.513 17 0 28.333-1.512 14.355-4.534 25.688-9.063 34-4.538 8.313-9.445 14.73-14.736 19.269C637.541 426.878 631.117 430.657 624.321 432.927L624.321 432.927z"
                      fill="#13227a" p-id="1477"></path>
                  </svg></el-icon><span>用户注册</span></el-menu-item>
              <el-menu-item index="/subusers/pointsMan" v-if="store.hasRole('MENU_BALANCE_MANAGEMENT')"><el-icon><svg
                    t="1727269149987" class="icon" viewBox="0 0 1024 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="4437" width="200" height="200">
                    <path
                      d="M512 0C229.7 0 0 229.7 0 512s229.7 512 512 512 512-229.7 512-512S794.3 0 512 0z m0 979.5C254.2 979.5 44.5 769.8 44.5 512S254.2 44.5 512 44.5 979.5 254.2 979.5 512 769.8 979.5 512 979.5z"
                      p-id="4438" fill="#1aaba8"></path>
                    <path
                      d="M853.9 302.9c-6.4-10.5-20.1-13.8-30.6-7.4s-13.8 20.1-7.4 30.6c34.2 55.8 52.3 120 52.3 185.8 0 168.5-119.6 315.2-284.4 348.9-23.5 4.8-47.6 7.2-71.8 7.2-12.3 0-22.3 10-22.3 22.3s10 22.3 22.3 22.3c27.2 0 54.3-2.7 80.7-8.1 185.4-37.9 320-203 320-392.6 0-73.9-20.3-146.2-58.8-209zM512 155.8c12.1 0 24.3 0.6 36.3 1.8 76.2 7.7 146.5 39.1 203.4 90.9 4.3 3.9 9.6 5.8 15 5.8 6 0 12.1-2.4 16.5-7.3 8.3-9.1 7.6-23.2-1.5-31.4-64-58.2-143.1-93.6-228.9-102.3-13.5-1.4-27.2-2.1-40.8-2.1-12.3 0-22.3 10-22.3 22.3s10 22.3 22.3 22.3zM448.2 862.5c-169.4-30.6-292.4-178-292.4-350.5 0-140.2 82.7-267.9 210.7-325.2 11.2-5 16.2-18.2 11.2-29.4s-18.2-16.3-29.4-11.2c-144 64.5-237 208.1-237 365.9 0 194 138.4 359.8 329 394.3 1.3 0.2 2.7 0.4 4 0.4 10.6 0 19.9-7.5 21.9-18.3 2.1-12.3-5.9-23.8-18-26z"
                      p-id="4439" fill="#1aaba8"></path>
                    <path
                      d="M393.2 700.6C422.1 722 459.8 738 497 741.7v48.6c0 11.4 9.2 20.6 20.6 20.6 11.4 0 20.6-9.2 20.6-20.6v-49.9C604.3 731 646 685.5 646 619.5c0-149.6-195.1-121.5-195.1-223.1 0-40.5 27.4-67.3 70.4-67.3 30.7 0 50.5 9.4 70.4 26.1 8.4 7 20.9 6 28.2-2.1l3.3-3.7c7.8-8.6 6.9-21.7-1.8-29.4-21.6-19.2-47.2-33.7-83.3-37.7v-48.6c0-11.4-9.2-20.6-20.6-20.6-11.4 0-20.6 9.2-20.6 20.6v49.9c-60.5 8.7-101.6 53-101.6 115.3 0 135.9 195.1 110.9 195.1 224.4 0 43.6-26.8 71.7-78.5 71.7-34.6 0-64.7-13.7-90.5-32.4-9.4-6.8-22.5-4.7-29.1 4.8l-3.6 5.1c-6.2 9.1-4.3 21.6 4.5 28.1z"
                      p-id="4440" fill="#1aaba8"></path>
                  </svg></el-icon><span>积分管理</span></el-menu-item>
              <!-- <el-menu-item index="/subusers/lists"><el-icon><svg t="1727269240932" class="icon"
                      viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8981" width="200"
                      height="200">
                      <path
                        d="M725.333333 938.666667c-25.6 0-42.666667-17.066667-42.666666-42.666667v-85.333333c0-72.533333-55.466667-128-128-128H213.333333c-72.533333 0-128 55.466667-128 128v85.333333c0 25.6-17.066667 42.666667-42.666666 42.666667s-42.666667-17.066667-42.666667-42.666667v-85.333333c0-119.466667 93.866667-213.333333 213.333333-213.333334h341.333334c119.466667 0 213.333333 93.866667 213.333333 213.333334v85.333333c0 25.6-17.066667 42.666667-42.666667 42.666667zM384 512c-119.466667 0-213.333333-93.866667-213.333333-213.333333s93.866667-213.333333 213.333333-213.333334 213.333333 93.866667 213.333333 213.333334-93.866667 213.333333-213.333333 213.333333z m0-341.333333C311.466667 170.666667 256 226.133333 256 298.666667s55.466667 128 128 128 128-55.466667 128-128-55.466667-128-128-128zM981.333333 938.666667c-25.6 0-42.666667-17.066667-42.666666-42.666667v-85.333333c0-59.733333-38.4-110.933333-98.133334-123.733334-21.333333-4.266667-34.133333-29.866667-29.866666-51.2 4.266667-21.333333 29.866667-34.133333 51.2-29.866666 93.866667 25.6 157.866667 110.933333 157.866666 209.066666v85.333334c4.266667 21.333333-12.8 38.4-38.4 38.4zM682.666667 507.733333c-17.066667 0-34.133333-12.8-42.666667-29.866666-8.533333-21.333333 8.533333-46.933333 29.866667-51.2 46.933333-12.8 81.066667-51.2 93.866666-93.866667 17.066667-68.266667-25.6-140.8-93.866666-157.866667-21.333333-4.266667-38.4-29.866667-29.866667-51.2 4.266667-21.333333 29.866667-38.4 51.2-29.866666 110.933333 25.6 183.466667 145.066667 153.6 260.266666-21.333333 76.8-81.066667 132.266667-153.6 153.6H682.666667z"
                        p-id="8982" fill="#1afa29"></path>
                    </svg></el-icon><span>用户列表</span></el-menu-item> -->
            </el-sub-menu>
            <el-menu-item index="/balanceHistory">
              <el-icon>
                <IconBalanceHistory />
              </el-icon><span>积分明细</span></el-menu-item>

            <!-- <el-sub-menu index="3" v-if="store.hasRole('ROOT')">
              <template #title>
                <el-icon><svg t="1730689615432" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1507" width="200" height="200"><path d="M794.75 444.122l-42.955 0 0-150.395c0-131.089-105.3-236.355-236.355-236.355s-236.355 105.3-236.355 236.355l0 150.395-42.955 0c-47.278 0-85.965 38.662-85.965 85.965l0 343.824c0 47.278 38.662 85.965 85.965 85.965l558.663 0c47.278 0 85.965-38.662 85.965-85.965l0-343.824c0-47.278-38.662-85.965-85.965-85.965zM515.429 830.883c-36.521 0-64.462-27.94-64.462-64.462 0-27.94 17.193-51.58 42.955-60.148l0-68.759c0-12.881 8.594-21.515 21.515-21.515s21.515 8.594 21.515 21.515l0 68.759c23.632 8.594 42.955 32.21 42.955 60.148 0 36.521-27.94 64.462-64.462 64.462zM322.043 444.122l0-150.395c0-107.41 85.965-193.388 193.388-193.388s193.388 85.965 193.388 193.388l0 150.395-386.748 0z" fill="#272636" p-id="1508"></path></svg>
                </el-icon>权限管理
              </template>
              <el-menu-item index="/priman/userMenusMan">
                <el-icon>
                  <svg t="1730689962328" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12878" width="200" height="200"><path d="M270.1 344.4H120.3c-30.7 0-55.6-25.1-55.6-55.9V137.8c0-30.8 25-55.9 55.6-55.9h149.8c30.7 0 55.6 25.1 55.6 55.9v150.6c0.1 30.9-24.9 56-55.6 56z m-128.4-77.5h107V159.3h-107v107.6zM270.1 662.8H120.3c-30.7 0-55.6-25.1-55.6-55.9V456.2c0-30.8 25-55.9 55.6-55.9h149.8c30.7 0 55.6 25.1 55.6 55.9v150.6c0.1 30.9-24.9 56-55.6 56z m-128.4-77.5h107V477.8h-107v107.5zM270.1 981.2H120.3c-30.7 0-55.6-25.1-55.6-55.9V774.7c0-30.8 25-55.9 55.6-55.9h149.8c30.7 0 55.6 25.1 55.6 55.9v150.6c0.1 30.8-24.9 55.9-55.6 55.9z m-128.4-77.4h107V796.2h-107v107.6zM463.1 258.3c-23.8 0-43.2-19.3-43.2-43s19.3-43 43.2-43h453c23.8 0 43.2 19.3 43.2 43s-19.3 43-43.2 43h-453zM463.1 576.7c-23.8 0-43.2-19.3-43.2-43 0-23.8 19.3-43 43.2-43h453c23.8 0 43.2 19.3 43.2 43 0 23.8-19.3 43-43.2 43h-453zM463.1 878c-23.8 0-43.2-19.3-43.2-43s19.3-43 43.2-43h453c23.8 0 43.2 19.3 43.2 43s-19.3 43-43.2 43h-453z" fill="#d81e06" p-id="12879"></path></svg>
                </el-icon><span>会话管理</span></el-menu-item>
            </el-sub-menu> -->
          </el-menu>
        </el-scrollbar>
      </el-aside>
      <el-main>
        <router-view>
        </router-view>
      </el-main>
    </el-container>
  </el-container>
</template>

<script lang="ts" setup>
import { ref } from 'vue'
import { Menu as IconMenu, Message, Setting } from '@element-plus/icons-vue'
import { useUserStore } from '@/stores/UseUserStore';
import { useRouter } from 'vue-router'
import axios from '@/axios'
import { isEmpty } from '@/common/Objects';

const router = useRouter();
const store = useUserStore();
let userInfo = ref(store.getUserInfo);

const logout = (() => {
  //清除用户信息
  store.logout();
  router.push('/login')
})
let updateTimer = null;
function secondsToMinutes(seconds: number) {
  return (seconds / 60).toFixed(1);
}

function startUpdateBalance() {
  updateTimer = setTimeout(() => {
    // 模拟从后端获取新的积分值
    updateBalance();
  }, 2000); // 延迟两秒执行
}
function cancelUpdateBalance() {
  if (updateTimer) {
    clearTimeout(updateTimer); // 取消定时器
    updateTimer = null;
  }
}
async function updateBalance() {
  let response = await axios.get("/v1/auth/user/getUser");
  if (response.status == 200) {
    userInfo.value.balance = response.data.balance;
  }
}
function changePwd() {
  router.push('/changePwd');
}
</script>

<style scoped>
.home-container {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  height: 100%;
  overflow-y: auto;
}

.home-container .el-header {
  position: relative;
  background-color: #0a192f;
  color: aliceblue;
  background-image: url('@/assets/images/svg/head-ai-logo.svg');
  background-repeat: no-repeat;
  text-align: right;
  font-size: 12px;
  height: 90px;
}

.el-header svg {
  width: 100%;
  height: 100%;
}


.home-container .el-aside {
  color: var(--el-text-color-primary);
  background: var(--el-color-primary-light-8);
  background-color: white;
}

.home-container .el-menu {
  border-right: none;
}

.home-container .el-main {
  padding: 0;
  height: 100%;
  background-color: white;
}

.home-container .toolbar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  right: 20px;
  font-size: 20px;
  font-weight: bolder;
}

.el-aside {
  border-right: 2px solid #d8e1f5;
  /* 右侧边框 */
}
</style>