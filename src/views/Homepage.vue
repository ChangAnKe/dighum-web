<template>
  <el-container class="home-container">
    <el-container>
      <el-header style="text-align: right; font-size: 12px">
        <div class="toolbar">
          <el-dropdown>
            <el-icon style="margin-right: 8px; margin-top: 1px">
              <setting />
            </el-icon>
            <template #dropdown>
              <el-dropdown-menu>
                <el-dropdown-item>详情</el-dropdown-item>
                <el-dropdown-item>余额: <el-text class="mx-1" type="primary">{{ secondsToMinutes(userInfo.balance) }}</el-text>
                  分钟</el-dropdown-item>
                <el-dropdown-item @click="logout">退出登录</el-dropdown-item>
              </el-dropdown-menu>
            </template>
          </el-dropdown>
          <span>{{ userInfo.userName }}</span>
        </div>
      </el-header>
      <el-container>
        <el-aside width="200px">
          <el-scrollbar>
            <el-menu router :default-openeds="['1']">
              <el-sub-menu index="1">
                <template #title>
                  <el-icon>
                    <icon-menu />
                  </el-icon>资源管理
                </template>
                <el-menu-item index="/createVideo"><el-icon><svg t="1725264786831" class="icon" viewBox="0 0 1024 1024"
                      version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5114" width="200" height="200">
                      <path d="M513 511.5m-344.4 0a344.4 344.4 0 1 0 688.8 0 344.4 344.4 0 1 0-688.8 0Z" fill="#D6B0F7"
                        p-id="5115"></path>
                      <path
                        d="M513 864.5c-94.3 0-182.9-36.7-249.6-103.4C196.7 694.5 160 605.8 160 511.5s36.7-182.9 103.4-249.6S418.7 158.5 513 158.5s182.9 36.7 249.6 103.4C829.3 328.6 866 417.2 866 511.5s-36.7 182.9-103.4 249.6C695.9 827.8 607.3 864.5 513 864.5z m0-688.8c-89.7 0-174 34.9-237.4 98.4-63.4 63.4-98.4 147.7-98.4 237.4 0 89.7 34.9 174 98.4 237.4 63.4 63.4 147.7 98.4 237.4 98.4 89.7 0 174-34.9 237.4-98.4s98.4-147.7 98.4-237.4c0-89.7-34.9-174-98.4-237.4-63.4-63.4-147.7-98.4-237.4-98.4z"
                        fill="#050405" p-id="5116"></path>
                      <path
                        d="M533.2 811c-4.5 0-8.3-3.5-8.6-8-0.3-4.7 3.3-8.8 8-9.2 15.4-1.1 30.9-3.4 45.9-6.9 4.6-1.1 9.3 1.8 10.4 6.4 1.1 4.6-1.8 9.3-6.4 10.4-15.9 3.8-32.3 6.2-48.7 7.4-0.2-0.1-0.4-0.1-0.6-0.1zM653.3 775.8c-3 0-6-1.6-7.5-4.5-2.3-4.2-0.8-9.4 3.4-11.7 51.7-28.4 92.7-71.5 118.5-124.5 2.1-4.3 7.2-6.1 11.5-4 4.3 2.1 6.1 7.2 4 11.5-27.4 56.2-70.8 101.9-125.6 132-1.5 0.9-2.9 1.2-4.3 1.2z"
                        fill="#050405" p-id="5117"></path>
                      <path
                        d="M456 510.1v132.4c0 11 8.9 20 20 20h70.7c11 0 20-8.9 20-20V510.1H623L529.2 370c-8.4-12.8-27.2-12.8-35.6 0l-93.8 140.1H456z"
                        fill="#D6B0F7" p-id="5118"></path>
                      <path
                        d="M546.7 670.5H476c-15.4 0-28-12.5-28-28V518.1h-48.3c-3 0-5.7-1.6-7.1-4.2-1.4-2.6-1.2-5.8 0.4-8.2l93.8-140.1c5.4-8.2 14.6-13.1 24.4-13.1 9.9 0 19 4.9 24.5 13.2l93.8 140c1.6 2.5 1.8 5.6 0.4 8.2s-4.1 4.2-7.1 4.2h-48.3v124.4c0.1 15.5-12.4 28-27.8 28z m-132-168.4H456c4.4 0 8 3.6 8 8v132.4c0 6.6 5.4 12 12 12h70.7c6.6 0 12-5.4 12-12V510.1c0-4.4 3.6-8 8-8H608l-85.5-127.6c-2.5-3.8-6.6-6-11.2-6s-8.6 2.2-11.1 6l-85.5 127.6z"
                        fill="#050405" p-id="5119"></path>
                    </svg></el-icon><span>创建视频</span></el-menu-item>
                <el-menu-item index="/myResources"><el-icon><svg t="1725264859595" class="icon" viewBox="0 0 1024 1024"
                      version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6318" width="200" height="200">
                      <path
                        d="M946.4 332.1L755.1 523.4c-17.6 17.6-46.1 17.6-63.7 0L500.2 332.1c-17.6-17.6-17.6-46.1 0-63.7L691.4 77.2c17.6-17.6 46.1-17.6 63.7 0l191.2 191.2c17.7 17.6 17.7 46.1 0.1 63.7zM723.6 111.9L534.9 300.6l188.7 188.7 188.7-188.7-188.7-188.7zM387.9 959.7H114.3c-27.5 0-49.7-22.3-49.7-49.7V636.4c0-27.5 22.3-49.7 49.7-49.7h273.6c27.5 0 49.7 22.3 49.7 49.7V910c0 27.4-22.3 49.7-49.7 49.7z m0-323.3H114.3V910h273.6V636.4z m0-124.4H114.3c-27.5 0-49.7-22.3-49.7-49.7V188.7c0-27.5 22.3-49.7 49.7-49.7h273.6c27.5 0 49.7 22.3 49.7 49.7v273.6c0 27.5-22.3 49.7-49.7 49.7z m0-323.3H114.3v273.6h273.6V188.7zM562 586.6h273.6c27.5 0 49.7 22.3 49.7 49.7V910c0 27.5-22.3 49.7-49.7 49.7H562c-27.5 0-49.7-22.3-49.7-49.7V636.4c-0.1-27.5 22.2-49.8 49.7-49.8z m0 323.4h273.6V636.4H562V910z"
                        fill="#1296db" p-id="6319"></path>
                    </svg></el-icon><span>作品管理</span></el-menu-item>
                <el-menu-item index="/voiceClone"><el-icon><svg t="1725261497718" class="icon" viewBox="0 0 1024 1024"
                      version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32031" width="200" height="200">
                      <path
                        d="M607.104 160.512a12.48 12.48 0 0 0-15.04 8.64l-1.344 4.48a12.8 12.8 0 0 1-22.656 3.84l-40.64-55.808a12.8 12.8 0 0 1 5.248-19.264l63.68-28.032a12.8 12.8 0 0 1 17.6 14.72l-1.28 5.12a13.12 13.12 0 0 0 9.536 15.68A416.384 416.384 0 0 1 928 463.552a12.48 12.48 0 0 1-12.544 13.824h-27.392a13.12 13.12 0 0 1-12.928-11.52 364.16 364.16 0 0 0-268.096-305.28z m-64.576 546.432a12.8 12.8 0 0 1-12.8 12.8h-33.408a12.8 12.8 0 0 1-12.8-12.8V325.248c0-7.04 5.76-12.8 12.8-12.8h33.408c7.04 0 12.8 5.76 12.8 12.8v381.696zM160.704 420.416a12.48 12.48 0 0 0 9.152 15.232l1.92 0.448a12.8 12.8 0 0 1 4.48 22.784l-54.592 39.68a12.8 12.8 0 0 1-19.264-5.12l-28.032-63.744a12.8 12.8 0 0 1 14.72-17.6l5.248 1.28a13.12 13.12 0 0 0 15.616-9.472 418.816 418.816 0 0 1 353.536-305.92 12.48 12.48 0 0 1 13.888 12.608v29.376a13.12 13.12 0 0 1-11.52 12.928 364.16 364.16 0 0 0-305.152 267.52z m90.624 63.68c0-7.04 5.76-12.8 12.8-12.8h33.472c7.04 0 12.8 5.76 12.8 12.8v61.952a12.8 12.8 0 0 1-12.8 12.8h-33.472a12.8 12.8 0 0 1-12.8-12.8v-61.952zM413.696 400c7.04 0 12.8 5.76 12.8 12.8v206.528a12.8 12.8 0 0 1-12.8 12.8H380.16a12.8 12.8 0 0 1-12.8-12.8V412.8c0-7.04 5.76-12.8 12.8-12.8h33.472z m5.12 465.472a12.48 12.48 0 0 0 15.04-8.768l1.664-5.824a12.8 12.8 0 0 1 22.656-4.032l40.384 55.488a12.8 12.8 0 0 1-5.12 19.264l-63.36 27.904a12.8 12.8 0 0 1-17.6-14.848l0.64-2.816a13.12 13.12 0 0 0-9.408-15.744A416.32 416.32 0 0 1 97.92 562.56a12.48 12.48 0 0 1 12.544-13.824h27.392c6.592 0 12.096 4.992 12.928 11.52a364.096 364.096 0 0 0 267.904 305.28zM645.76 400c7.04 0 12.8 5.76 12.8 12.8v206.528a12.8 12.8 0 0 1-12.8 12.8h-33.472a12.8 12.8 0 0 1-12.8-12.8V412.8c0-7.04 5.76-12.8 12.8-12.8h33.472z m69.76 84.096c0-7.04 5.76-12.8 12.8-12.8h33.536c7.04 0 12.8 5.76 12.8 12.8v61.952a12.8 12.8 0 0 1-12.8 12.8h-33.472a12.8 12.8 0 0 1-12.8-12.8v-61.952zM863.36 603.52a12.48 12.48 0 0 0-9.152-15.232l-1.92-0.448a12.8 12.8 0 0 1-4.48-22.784l54.592-39.68a12.8 12.8 0 0 1 19.2 5.12l27.968 63.424a12.8 12.8 0 0 1-14.848 17.6l-2.752-0.704a13.12 13.12 0 0 0-15.808 9.472 412.224 412.224 0 0 1-355.84 303.872 12.48 12.48 0 0 1-13.632-12.544v-27.648c0-6.592 4.992-12.032 11.52-12.928a364.16 364.16 0 0 0 305.152-267.52z"
                        p-id="32032" fill="#626ca8"></path>
                      <path
                        d="M601.216 171.904l-1.28 4.48a22.4 22.4 0 0 1-39.616 6.784l-40.64-55.872a22.4 22.4 0 0 1 9.088-33.664l63.744-28.032a22.4 22.4 0 0 1 30.784 25.664l-1.28 5.248a3.52 3.52 0 0 0 2.688 4.096 425.984 425.984 0 0 1 312.896 361.792 22.08 22.08 0 0 1-22.08 24.576h-27.392a22.72 22.72 0 0 1-22.4-19.904 354.432 354.432 0 0 0-261.056-297.28 2.88 2.88 0 0 0-3.456 2.112z m-71.488 557.44h-33.408a22.4 22.4 0 0 1-22.4-22.4V325.248a22.4 22.4 0 0 1 22.4-22.4h33.408a22.4 22.4 0 0 1 22.4 22.4v381.696a22.4 22.4 0 0 1-22.4 22.4zM172.16 426.24l1.984 0.512a22.4 22.4 0 0 1 7.68 39.808l-54.528 39.68a22.4 22.4 0 0 1-33.664-9.024l-28.032-63.744a22.4 22.4 0 0 1 25.664-30.784l5.312 1.28a3.52 3.52 0 0 0 4.096-2.624 428.416 428.416 0 0 1 361.6-312.896c13.44-1.6 24.704 8.96 24.704 22.08v29.376a22.72 22.72 0 0 1-19.84 22.4 354.56 354.56 0 0 0-297.152 260.48 2.88 2.88 0 0 0 2.176 3.456z m91.968 35.392h33.472a22.4 22.4 0 0 1 22.4 22.4v61.952a22.4 22.4 0 0 1-22.4 22.4h-33.472a22.4 22.4 0 0 1-22.4-22.4v-61.952a22.4 22.4 0 0 1 22.4-22.4z m171.968-48.896v206.528a22.4 22.4 0 0 1-22.4 22.4H380.16a22.4 22.4 0 0 1-22.4-22.4V412.8a22.4 22.4 0 0 1 22.4-22.4h33.472a22.4 22.4 0 0 1 22.4 22.4z m-11.456 441.216l1.664-5.76a22.4 22.4 0 0 1 39.68-7.04l40.32 55.488a22.4 22.4 0 0 1-9.024 33.664l-63.36 27.904a22.4 22.4 0 0 1-30.72-25.92l0.64-2.816a3.52 3.52 0 0 0-2.56-4.16 425.984 425.984 0 0 1-312.832-361.728 22.08 22.08 0 0 1 22.08-24.576h27.392c11.584 0 20.992 8.768 22.4 19.84a354.56 354.56 0 0 0 260.928 297.28 2.88 2.88 0 0 0 3.392-2.176z m243.584-441.216v206.528a22.4 22.4 0 0 1-22.4 22.4h-33.472a22.4 22.4 0 0 1-22.4-22.4V412.8a22.4 22.4 0 0 1 22.4-22.4h33.472a22.4 22.4 0 0 1 22.4 22.4z m60.16 48.896h33.536a22.4 22.4 0 0 1 22.4 22.4v61.952a22.4 22.4 0 0 1-22.4 22.4h-33.472a22.4 22.4 0 0 1-22.4-22.4v-61.952a22.4 22.4 0 0 1 22.4-22.4z m123.456 136l-1.92-0.512a22.4 22.4 0 0 1-7.808-39.808l54.592-39.68a22.4 22.4 0 0 1 33.664 9.024l27.904 63.36a22.4 22.4 0 0 1-25.92 30.784l-2.816-0.64a3.52 3.52 0 0 0-4.16 2.56A421.888 421.888 0 0 1 561.28 933.76a22.08 22.08 0 0 1-24.32-22.08v-27.648c0-11.52 8.832-20.992 19.968-22.4a354.496 354.496 0 0 0 297.088-260.48 2.88 2.88 0 0 0-2.176-3.456zM592 169.152c1.984-6.4 8.64-10.304 15.104-8.64a364.16 364.16 0 0 1 268.16 305.28c0.768 6.592 6.272 11.584 12.864 11.584h27.392c7.488 0 13.44-6.4 12.544-13.824a416.384 416.384 0 0 0-305.856-353.664 13.12 13.12 0 0 1-9.472-15.616l1.28-5.248a12.8 12.8 0 0 0-17.664-14.656l-63.68 28.032a12.8 12.8 0 0 0-5.248 19.2l40.64 55.936a12.8 12.8 0 0 0 22.656-3.84l1.28-4.544z m-62.272 550.592a12.8 12.8 0 0 0 12.8-12.8V325.248a12.8 12.8 0 0 0-12.8-12.8h-33.408a12.8 12.8 0 0 0-12.8 12.8v381.696c0 7.04 5.76 12.8 12.8 12.8h33.408z m-359.872-284.16a12.48 12.48 0 0 1-9.152-15.168 364.16 364.16 0 0 1 305.152-267.52 13.12 13.12 0 0 0 11.52-12.928v-29.44c0-7.488-6.4-13.44-13.888-12.48A418.816 418.816 0 0 0 109.952 403.84a13.12 13.12 0 0 1-15.616 9.408l-5.312-1.28a12.8 12.8 0 0 0-14.656 17.664l28.032 63.68a12.8 12.8 0 0 0 19.2 5.184l54.656-39.68a12.8 12.8 0 0 0-4.48-22.784l-1.92-0.448z m94.272 35.712a12.8 12.8 0 0 0-12.8 12.8v61.952c0 7.04 5.76 12.8 12.8 12.8h33.472a12.8 12.8 0 0 0 12.8-12.8v-61.952a12.8 12.8 0 0 0-12.8-12.8h-33.472z m162.368-58.496a12.8 12.8 0 0 0-12.8-12.8H380.16a12.8 12.8 0 0 0-12.8 12.8v206.528c0 7.04 5.76 12.8 12.8 12.8h33.472a12.8 12.8 0 0 0 12.8-12.8V412.8z m7.36 443.904a12.48 12.48 0 0 1-15.104 8.768 364.16 364.16 0 0 1-267.904-305.28 13.12 13.12 0 0 0-12.928-11.52h-27.392c-7.488 0-13.44 6.4-12.544 13.824a416.384 416.384 0 0 0 305.728 353.6 13.12 13.12 0 0 1 9.472 15.744l-0.704 2.816a12.8 12.8 0 0 0 17.536 14.848l63.36-27.904a12.8 12.8 0 0 0 5.184-19.2l-40.32-55.552a12.8 12.8 0 0 0-22.72 4.032l-1.664 5.76z m224.768-443.904a12.8 12.8 0 0 0-12.8-12.8h-33.472a12.8 12.8 0 0 0-12.8 12.8v206.528c0 7.04 5.76 12.8 12.8 12.8h33.472a12.8 12.8 0 0 0 12.8-12.8V412.8z m69.76 58.496a12.8 12.8 0 0 0-12.8 12.8l0.064 61.952c0 7.04 5.76 12.8 12.8 12.8h33.472a12.8 12.8 0 0 0 12.8-12.8v-61.952a12.8 12.8 0 0 0-12.8-12.8h-33.472z m125.76 117.12a12.48 12.48 0 0 1 9.152 15.168 364.16 364.16 0 0 1-305.152 267.52 13.12 13.12 0 0 0-11.52 12.928v27.648c0 7.424 6.272 13.312 13.632 12.544a412.288 412.288 0 0 0 355.84-303.872 13.12 13.12 0 0 1 15.808-9.472l2.752 0.64a12.8 12.8 0 0 0 14.848-17.536l-27.904-63.36a12.8 12.8 0 0 0-19.2-5.184l-54.656 39.68a12.8 12.8 0 0 0 4.48 22.784l1.92 0.448z"
                        p-id="32033" fill="#626ca8"></path>
                    </svg></el-icon><span>声音克隆</span></el-menu-item>
              </el-sub-menu>
            </el-menu>
          </el-scrollbar>
        </el-aside>
        <el-main>
          <router-view>
          </router-view>
        </el-main>
      </el-container>
    </el-container>

  </el-container>
</template>

<script lang="ts" setup>
import { onMounted, ref } from 'vue'
import { Menu as IconMenu, Message, Setting } from '@element-plus/icons-vue'
import { useUserStore } from '@/stores/UseUserStore';
import { useRouter } from 'vue-router'

const router = useRouter();
const store = useUserStore();
let userInfo = ref(store.userInfo);

const logout = (() => {
  //清除用户信息
  store.logout();
  router.push('/login')
})

function secondsToMinutes(seconds: number) {
  return (seconds / 60).toFixed(1);
}
</script>

<style scoped>
.home-container {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  height: 100%;
  overflow-y: auto;
}

.home-container .el-header {
  position: relative;
  background-color: #80c0ff;
  color: aliceblue;
}

.home-container .el-aside {
  color: var(--el-text-color-primary);
  background: var(--el-color-primary-light-8);
  background-color: white;
}

.home-container .el-menu {
  border-right: none;
}

.home-container .el-main {
  padding: 0;
  height: 100%;
  background-color: white;
}

.home-container .toolbar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  right: 20px;
  font-size: 20px;
  font-weight: bolder;
}

.el-aside {
  border-right: 2px solid #d8e1f5;
  /* 右侧边框 */
}
</style>
